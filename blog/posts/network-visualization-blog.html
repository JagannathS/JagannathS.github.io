<!DOCTYPE HTML>
<html> <head> <title>Visualizing Complex Network Topologies: From Chaos to Clarity - Future Imperfect</title> <meta charset="utf-8" /> <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" /> <link rel="stylesheet" href="../assets/css/main.css" /> <link rel="stylesheet" href="../assets/css/codehilite.css" /> </head> <body class="single is-preload"> <div id="wrapper"> <header id="header"> <h1><a href="../index.html">Future Imperfect</a></h1> <nav class="links"></nav> </header> <div id="main"> <article class="post"> <header> <div class="title"><h2>Visualizing Complex Network Topologies: From Chaos to Clarity</h2><p>*How I built interactive network visualization tools to make sense of multi-region telecommunications infrastructure*</p></div> <div class="meta"><span class="published">Infra</span></div> </header> <div class="content markdown"><h1>Visualizing Complex Network Topologies: From Chaos to Clarity</h1>
<p><em>How I built interactive network visualization tools to make sense of multi-region telecommunications infrastructure</em></p>
<hr />
<h2>The Problem: When Networks Become Invisible</h2>
<p>Picture this: You're managing a telecommunications network spanning <strong>five AWS regions</strong>, with <strong>100+ infrastructure components</strong>, <strong>50+ GTP proxies</strong>, and <strong>complex interconnections</strong> between containers, bridges, and physical hosts. Now imagine trying to troubleshoot a connectivity issue at 2 AM when a critical customer service is down.</p>
<p>This was my reality at . Our Evolved Packet Core (EPC) infrastructure had grown organically, and while it worked beautifully, <strong>understanding it was nearly impossible</strong>. We had documentation scattered across wikis, network diagrams that were months out of date, and tribal knowledge locked in the minds of a few senior engineers.</p>
<p>The breaking point came during a major incident where we spent <strong>3 hours</strong> just trying to understand which services were connected to which networks, and how traffic flowed between regions. That's when I decided: <strong>if you can't see your network, you can't manage it effectively</strong>.</p>
<h2>The Vision: Making Infrastructure Visible</h2>
<p>I set out to build a comprehensive network visualization system with these goals:</p>
<ol>
<li><strong>Real-time Discovery</strong>: Automatically map live infrastructure without manual updates</li>
<li><strong>Multi-Level Views</strong>: Show everything from high-level region topology to container-level details </li>
<li><strong>Interactive Exploration</strong>: Allow engineers to drill down from regions to individual containers</li>
<li><strong>Always Current</strong>: Generate visualizations from live systems, not static documentation</li>
<li><strong>Intuitive Understanding</strong>: Make complex networks understandable at a glance</li>
</ol>
<h2>The Journey: Three Generations of Visualization</h2>
<h3>Generation 1: Static Mermaid Diagrams</h3>
<p>My first attempt used <strong>Mermaid.js</strong> to generate static network diagrams from project inventory data:</p>
<div class="codehilite"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">generate_mermaid_diagram</span><span class="p">(</span><span class="n">inventory_data</span><span class="p">):</span>
<span class="w"> </span><span class="sd">&quot;&quot;&quot;Generate static network diagram using Mermaid syntax&quot;&quot;&quot;</span> <span class="n">mermaid_lines</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;graph TD&quot;</span><span class="p">]</span> <span class="k">for</span> <span class="n">region</span><span class="p">,</span> <span class="n">hosts</span> <span class="ow">in</span> <span class="n">inventory_data</span><span class="o">.</span><span class="n">items</span><span class="p">():</span> <span class="n">mermaid_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; subgraph </span><span class="si">{</span><span class="n">region</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">hostname</span><span class="p">,</span> <span class="n">host_config</span> <span class="ow">in</span> <span class="n">hosts</span><span class="o">.</span><span class="n">items</span><span class="p">():</span> <span class="c1"># Clean hostname for Mermaid compatibility</span> <span class="n">clean_host</span> <span class="o">=</span> <span class="n">hostname</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">replace</span><span class="p">(</span><span class="s2">&quot;.&quot;</span><span class="p">,</span> <span class="s2">&quot;_&quot;</span><span class="p">)</span> <span class="n">mermaid_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot; subgraph </span><span class="si">{</span><span class="n">clean_host</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="c1"># Add containers for this host</span> <span class="k">for</span> <span class="n">container</span> <span class="ow">in</span> <span class="n">host_config</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;containers&#39;</span><span class="p">,</span> <span class="p">[]):</span> <span class="n">container_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">clean_host</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">container</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span> <span class="n">container_label</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">container</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\\</span><span class="s2">n</span><span class="si">{</span><span class="n">container</span><span class="p">[</span><span class="s1">&#39;ip&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span> <span class="n">mermaid_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39; </span><span class="si">{</span><span class="n">container_id</span><span class="si">}</span><span class="s1">[&quot;</span><span class="si">{</span><span class="n">container_label</span><span class="si">}</span><span class="s1">&quot;]&#39;</span><span class="p">)</span> <span class="n">mermaid_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot; end&quot;</span><span class="p">)</span> <span class="n">mermaid_lines</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="s2">&quot; end&quot;</span><span class="p">)</span> <span class="k">return</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">mermaid_lines</span><span class="p">)</span>
</code></pre></div> <p><strong>Result</strong>: Clean, professional-looking diagrams that worked great for documentation. <strong>Problem</strong>: Static diagrams quickly became outdated as our infrastructure evolved.</p>
<h3>Generation 2: Interactive PyVis Networks</h3>
<p>The second iteration used <strong>PyVis</strong> to create interactive network topology maps:</p>
<div class="codehilite"><pre><span></span><code><span class="kn">from</span><span class="w"> </span><span class="nn">pyvis.network</span><span class="w"> </span><span class="kn">import</span> <span class="n">Network</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">docker</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">subprocess</span> <span class="k">class</span><span class="w"> </span><span class="nc">NetworkTopologyVisualizer</span><span class="p">:</span> <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hostname</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">hostname</span> <span class="o">=</span> <span class="n">hostname</span> <span class="ow">or</span> <span class="n">os</span><span class="o">.</span><span class="n">uname</span><span class="p">()</span><span class="o">.</span><span class="n">nodename</span> <span class="bp">self</span><span class="o">.</span><span class="n">docker_client</span> <span class="o">=</span> <span class="n">docker</span><span class="o">.</span><span class="n">from_env</span><span class="p">()</span> <span class="bp">self</span><span class="o">.</span><span class="n">network_data</span> <span class="o">=</span> <span class="p">{}</span> <span class="k">def</span><span class="w"> </span><span class="nf">discover_infrastructure</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w"> </span><span class="sd">&quot;&quot;&quot;Automatically discover all network components&quot;&quot;&quot;</span> <span class="c1"># Discover Docker networks</span> <span class="n">networks</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">discover_docker_networks</span><span class="p">()</span> <span class="c1"># Discover running containers </span> <span class="n">containers</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">discover_containers</span><span class="p">()</span> <span class="c1"># Discover GRE tunnels</span> <span class="n">gre_tunnels</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">discover_gre_tunnels</span><span class="p">()</span> <span class="c1"># Discover bridge interfaces</span> <span class="n">bridges</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">discover_bridge_interfaces</span><span class="p">()</span> <span class="k">return</span> <span class="p">{</span> <span class="s1">&#39;networks&#39;</span><span class="p">:</span> <span class="n">networks</span><span class="p">,</span> <span class="s1">&#39;containers&#39;</span><span class="p">:</span> <span class="n">containers</span><span class="p">,</span> <span class="s1">&#39;gre_tunnels&#39;</span><span class="p">:</span> <span class="n">gre_tunnels</span><span class="p">,</span> <span class="s1">&#39;bridges&#39;</span><span class="p">:</span> <span class="n">bridges</span> <span class="p">}</span> <span class="k">def</span><span class="w"> </span><span class="nf">discover_containers</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w"> </span><span class="sd">&quot;&quot;&quot;Discover all Docker containers and their network connections&quot;&quot;&quot;</span> <span class="n">containers</span> <span class="o">=</span> <span class="p">[]</span> <span class="k">for</span> <span class="n">container</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">docker_client</span><span class="o">.</span><span class="n">containers</span><span class="o">.</span><span class="n">list</span><span class="p">():</span> <span class="n">container_info</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="n">container</span><span class="o">.</span><span class="n">name</span><span class="p">,</span> <span class="s1">&#39;id&#39;</span><span class="p">:</span> <span class="n">container</span><span class="o">.</span><span class="n">id</span><span class="p">[:</span><span class="mi">12</span><span class="p">],</span> <span class="s1">&#39;image&#39;</span><span class="p">:</span> <span class="n">container</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">tags</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="k">if</span> <span class="n">container</span><span class="o">.</span><span class="n">image</span><span class="o">.</span><span class="n">tags</span> <span class="k">else</span> <span class="s1">&#39;unknown&#39;</span><span class="p">,</span> <span class="s1">&#39;status&#39;</span><span class="p">:</span> <span class="n">container</span><span class="o">.</span><span class="n">status</span><span class="p">,</span> <span class="s1">&#39;networks&#39;</span><span class="p">:</span> <span class="nb">list</span><span class="p">(</span><span class="n">container</span><span class="o">.</span><span class="n">attrs</span><span class="p">[</span><span class="s1">&#39;NetworkSettings&#39;</span><span class="p">][</span><span class="s1">&#39;Networks&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()),</span> <span class="s1">&#39;ips&#39;</span><span class="p">:</span> <span class="p">[]</span> <span class="p">}</span> <span class="c1"># Get container IP addresses</span> <span class="k">try</span><span class="p">:</span> <span class="n">ip_output</span> <span class="o">=</span> <span class="n">container</span><span class="o">.</span><span class="n">exec_run</span><span class="p">(</span><span class="s2">&quot;ip -4 addr show&quot;</span><span class="p">,</span> <span class="n">tty</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span> <span class="k">if</span> <span class="n">ip_output</span><span class="o">.</span><span class="n">exit_code</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="n">ip_lines</span> <span class="o">=</span> <span class="n">ip_output</span><span class="o">.</span><span class="n">output</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">ip_lines</span><span class="p">:</span> <span class="n">ip_match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;inet (\d+\.\d+\.\d+\.\d+)/\d+&#39;</span><span class="p">,</span> <span class="n">line</span><span class="p">)</span> <span class="k">if</span> <span class="n">ip_match</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">ip_match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="s1">&#39;127.&#39;</span><span class="p">):</span> <span class="n">container_info</span><span class="p">[</span><span class="s1">&#39;ips&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ip_match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span> <span class="k">except</span><span class="p">:</span> <span class="n">container_info</span><span class="p">[</span><span class="s1">&#39;ips&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;unknown&#39;</span><span class="p">]</span> <span class="n">containers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">container_info</span><span class="p">)</span> <span class="k">return</span> <span class="n">containers</span> <span class="k">def</span><span class="w"> </span><span class="nf">discover_gre_tunnels</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w"> </span><span class="sd">&quot;&quot;&quot;Discover GRE tunnel interfaces on the host&quot;&quot;&quot;</span> <span class="n">gre_tunnels</span> <span class="o">=</span> <span class="p">[]</span> <span class="k">try</span><span class="p">:</span> <span class="c1"># Get interface information</span> <span class="n">result</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">run</span><span class="p">([</span><span class="s1">&#39;ip&#39;</span><span class="p">,</span> <span class="s1">&#39;-4&#39;</span><span class="p">,</span> <span class="s1">&#39;addr&#39;</span><span class="p">,</span> <span class="s1">&#39;show&#39;</span><span class="p">],</span> <span class="n">capture_output</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">if</span> <span class="n">result</span><span class="o">.</span><span class="n">returncode</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="n">lines</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">stdout</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">&#39;</span><span class="p">)</span> <span class="n">current_interface</span> <span class="o">=</span> <span class="kc">None</span> <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="n">lines</span><span class="p">:</span> <span class="c1"># Look for GRE interface definitions</span> <span class="n">gre_match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">match</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;(\d+):\s+(\w+)@NONE:.*master\s+(\w+)&#39;</span><span class="p">,</span> <span class="n">line</span><span class="p">)</span> <span class="k">if</span> <span class="n">gre_match</span><span class="p">:</span> <span class="n">current_interface</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;name&#39;</span><span class="p">:</span> <span class="n">gre_match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="s1">&#39;vrf&#39;</span><span class="p">:</span> <span class="n">gre_match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="s1">&#39;ips&#39;</span><span class="p">:</span> <span class="p">[]</span> <span class="p">}</span> <span class="c1"># Look for IP addresses</span> <span class="k">elif</span> <span class="n">current_interface</span><span class="p">:</span> <span class="n">ip_match</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;inet (\d+\.\d+\.\d+\.\d+)/\d+&#39;</span><span class="p">,</span> <span class="n">line</span><span class="p">)</span> <span class="k">if</span> <span class="n">ip_match</span><span class="p">:</span> <span class="n">current_interface</span><span class="p">[</span><span class="s1">&#39;ips&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">ip_match</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="mi">1</span><span class="p">))</span> <span class="n">gre_tunnels</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">current_interface</span><span class="o">.</span><span class="n">copy</span><span class="p">())</span> <span class="n">current_interface</span> <span class="o">=</span> <span class="kc">None</span> <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Warning: Could not discover GRE tunnels: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="k">return</span> <span class="n">gre_tunnels</span>
</code></pre></div> <p><strong>Innovation</strong>: This approach provided <strong>real-time discovery</strong> of network topology directly from the running systems.</p>
<h3>Generation 3: Multi-Host Visualization Engine</h3>
<p>The third generation tackled the biggest challenge: visualizing networks that <strong>span multiple physical hosts</strong>. This required a completely different approach:</p>
<div class="codehilite"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">MultiHostNetworkVisualizer</span><span class="p">:</span>
<span class="w"> </span><span class="sd">&quot;&quot;&quot;Advanced visualization for multi-host network topologies&quot;&quot;&quot;</span> <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hosts_config</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">hosts_config</span> <span class="o">=</span> <span class="n">hosts_config</span> <span class="c1"># List of hosts to analyze</span> <span class="bp">self</span><span class="o">.</span><span class="n">topology_data</span> <span class="o">=</span> <span class="p">{}</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_scheme</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;host&#39;</span><span class="p">:</span> <span class="s1">&#39;#3498db&#39;</span><span class="p">,</span> <span class="s1">&#39;bridge&#39;</span><span class="p">:</span> <span class="s1">&#39;#95a5a6&#39;</span><span class="p">,</span> <span class="s1">&#39;container_normal&#39;</span><span class="p">:</span> <span class="s1">&#39;#27ae60&#39;</span><span class="p">,</span> <span class="s1">&#39;container_host_mode&#39;</span><span class="p">:</span> <span class="s1">&#39;#e74c3c&#39;</span><span class="p">,</span> <span class="s1">&#39;gre_tunnel&#39;</span><span class="p">:</span> <span class="s1">&#39;#9b59b6&#39;</span><span class="p">,</span> <span class="s1">&#39;connection&#39;</span><span class="p">:</span> <span class="s1">&#39;#34495e&#39;</span> <span class="p">}</span> <span class="k">def</span><span class="w"> </span><span class="nf">build_multi_host_topology</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="w"> </span><span class="sd">&quot;&quot;&quot;Build comprehensive topology across multiple hosts&quot;&quot;&quot;</span> <span class="n">net</span> <span class="o">=</span> <span class="n">Network</span><span class="p">(</span><span class="n">height</span><span class="o">=</span><span class="s2">&quot;1200px&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s2">&quot;100%&quot;</span><span class="p">,</span> <span class="n">bgcolor</span><span class="o">=</span><span class="s2">&quot;#f8f9fa&quot;</span><span class="p">,</span> <span class="n">directed</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="c1"># Configure advanced layout options</span> <span class="n">net</span><span class="o">.</span><span class="n">options</span> <span class="o">=</span> <span class="p">{</span> <span class="s2">&quot;layout&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="s2">&quot;hierarchical&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="s2">&quot;enabled&quot;</span><span class="p">:</span> <span class="kc">True</span><span class="p">,</span> <span class="s2">&quot;direction&quot;</span><span class="p">:</span> <span class="s2">&quot;UD&quot;</span><span class="p">,</span> <span class="c1"># Top-down layout</span> <span class="s2">&quot;nodeSpacing&quot;</span><span class="p">:</span> <span class="mi">200</span><span class="p">,</span> <span class="s2">&quot;levelSeparation&quot;</span><span class="p">:</span> <span class="mi">300</span> <span class="p">}</span> <span class="p">},</span> <span class="s2">&quot;physics&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="s2">&quot;solver&quot;</span><span class="p">:</span> <span class="s2">&quot;forceAtlas2Based&quot;</span><span class="p">,</span> <span class="s2">&quot;forceAtlas2Based&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="s2">&quot;gravitationalConstant&quot;</span><span class="p">:</span> <span class="o">-</span><span class="mi">2000</span><span class="p">,</span> <span class="s2">&quot;springLength&quot;</span><span class="p">:</span> <span class="mi">150</span><span class="p">,</span> <span class="s2">&quot;damping&quot;</span><span class="p">:</span> <span class="mf">0.3</span> <span class="p">},</span> <span class="s2">&quot;stabilization&quot;</span><span class="p">:</span> <span class="p">{</span><span class="s2">&quot;iterations&quot;</span><span class="p">:</span> <span class="mi">2000</span><span class="p">}</span> <span class="p">}</span> <span class="p">}</span> <span class="n">host_level</span> <span class="o">=</span> <span class="mi">0</span> <span class="n">bridge_level</span> <span class="o">=</span> <span class="mi">1</span> <span class="n">container_level</span> <span class="o">=</span> <span class="mi">2</span> <span class="n">gre_level</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="c1"># Above hosts</span> <span class="k">for</span> <span class="n">host_config</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">hosts_config</span><span class="p">:</span> <span class="n">host_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">discover_host_topology</span><span class="p">(</span><span class="n">host_config</span><span class="p">[</span><span class="s1">&#39;hostname&#39;</span><span class="p">])</span> <span class="c1"># Add host node</span> <span class="n">host_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;host_</span><span class="si">{</span><span class="n">host_config</span><span class="p">[</span><span class="s1">&#39;hostname&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span> <span class="n">net</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">host_id</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;&lt;b&gt;</span><span class="si">{</span><span class="n">host_config</span><span class="p">[</span><span class="s1">&#39;hostname&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&lt;/b&gt;&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">color_scheme</span><span class="p">[</span><span class="s1">&#39;host&#39;</span><span class="p">],</span> <span class="n">size</span><span class="o">=</span><span class="mi">80</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="n">host_level</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">generate_host_tooltip</span><span class="p">(</span><span class="n">host_data</span><span class="p">))</span> <span class="c1"># Add bridge networks</span> <span class="n">bridge_nodes</span> <span class="o">=</span> <span class="p">{}</span> <span class="k">for</span> <span class="n">bridge</span> <span class="ow">in</span> <span class="n">host_data</span><span class="p">[</span><span class="s1">&#39;bridges&#39;</span><span class="p">]:</span> <span class="n">bridge_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">host_id</span><span class="si">}</span><span class="s2">_bridge_</span><span class="si">{</span><span class="n">bridge</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span> <span class="n">bridge_nodes</span><span class="p">[</span><span class="n">bridge</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">bridge_id</span> <span class="n">net</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">bridge_id</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Bridge</span><span class="se">\\</span><span class="s2">n</span><span class="si">{</span><span class="n">bridge</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">color_scheme</span><span class="p">[</span><span class="s1">&#39;bridge&#39;</span><span class="p">],</span> <span class="n">size</span><span class="o">=</span><span class="mi">40</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="n">bridge_level</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Docker Bridge: </span><span class="si">{</span><span class="n">bridge</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="c1"># Connect bridge to host</span> <span class="n">net</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">host_id</span><span class="p">,</span> <span class="n">bridge_id</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">color_scheme</span><span class="p">[</span><span class="s1">&#39;connection&#39;</span><span class="p">])</span> <span class="c1"># Add containers</span> <span class="k">for</span> <span class="n">container</span> <span class="ow">in</span> <span class="n">host_data</span><span class="p">[</span><span class="s1">&#39;containers&#39;</span><span class="p">]:</span> <span class="n">container_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">host_id</span><span class="si">}</span><span class="s2">_container_</span><span class="si">{</span><span class="n">container</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span> <span class="c1"># Determine container color and label</span> <span class="k">if</span> <span class="n">container</span><span class="p">[</span><span class="s1">&#39;network_mode&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;host&#39;</span><span class="p">:</span> <span class="n">color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_scheme</span><span class="p">[</span><span class="s1">&#39;container_host_mode&#39;</span><span class="p">]</span> <span class="n">label</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&lt;b&gt;</span><span class="si">{</span><span class="n">container</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&lt;/b&gt;</span><span class="se">\\</span><span class="s2">nHOST MODE&quot;</span> <span class="k">else</span><span class="p">:</span> <span class="n">color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">color_scheme</span><span class="p">[</span><span class="s1">&#39;container_normal&#39;</span><span class="p">]</span> <span class="n">ip_text</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\\</span><span class="s2">n&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">container</span><span class="p">[</span><span class="s1">&#39;ips&#39;</span><span class="p">][:</span><span class="mi">2</span><span class="p">])</span> <span class="c1"># Show first 2 IPs</span> <span class="n">label</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;&lt;b&gt;</span><span class="si">{</span><span class="n">container</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&lt;/b&gt;</span><span class="se">\\</span><span class="s2">n</span><span class="si">{</span><span class="n">ip_text</span><span class="si">}</span><span class="s2">&quot;</span> <span class="n">net</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">container_id</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="n">label</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">35</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="n">container_level</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">generate_container_tooltip</span><span class="p">(</span><span class="n">container</span><span class="p">))</span> <span class="c1"># Connect container to bridges</span> <span class="k">for</span> <span class="n">bridge_name</span> <span class="ow">in</span> <span class="n">container</span><span class="p">[</span><span class="s1">&#39;networks&#39;</span><span class="p">]:</span> <span class="k">if</span> <span class="n">bridge_name</span> <span class="ow">in</span> <span class="n">bridge_nodes</span><span class="p">:</span> <span class="n">net</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">bridge_nodes</span><span class="p">[</span><span class="n">bridge_name</span><span class="p">],</span> <span class="n">container_id</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">color_scheme</span><span class="p">[</span><span class="s1">&#39;connection&#39;</span><span class="p">])</span> <span class="c1"># Connect host-mode containers directly to host</span> <span class="k">if</span> <span class="n">container</span><span class="p">[</span><span class="s1">&#39;network_mode&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;host&#39;</span><span class="p">:</span> <span class="n">net</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">host_id</span><span class="p">,</span> <span class="n">container_id</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">color_scheme</span><span class="p">[</span><span class="s1">&#39;container_host_mode&#39;</span><span class="p">],</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;dashed&#39;</span><span class="p">)</span> <span class="c1"># Add GRE tunnels</span> <span class="k">for</span> <span class="n">gre</span> <span class="ow">in</span> <span class="n">host_data</span><span class="p">[</span><span class="s1">&#39;gre_tunnels&#39;</span><span class="p">]:</span> <span class="n">gre_id</span> <span class="o">=</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">host_id</span><span class="si">}</span><span class="s2">_gre_</span><span class="si">{</span><span class="n">gre</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span> <span class="n">net</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">gre_id</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;GRE</span><span class="se">\\</span><span class="s2">n</span><span class="si">{</span><span class="n">gre</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="si">}</span><span class="se">\\</span><span class="s2">n</span><span class="si">{</span><span class="n">gre</span><span class="p">[</span><span class="s1">&#39;ips&#39;</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span><span class="w"> </span><span class="k">if</span><span class="w"> </span><span class="n">gre</span><span class="p">[</span><span class="s1">&#39;ips&#39;</span><span class="p">]</span><span class="w"> </span><span class="k">else</span><span class="w"> </span><span class="s1">&#39;No IP&#39;</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">color_scheme</span><span class="p">[</span><span class="s1">&#39;gre_tunnel&#39;</span><span class="p">],</span> <span class="n">size</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="n">gre_level</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;GRE Tunnel: </span><span class="si">{</span><span class="n">gre</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2"> (VRF: </span><span class="si">{</span><span class="n">gre</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;vrf&#39;</span><span class="p">,</span><span class="w"> </span><span class="s1">&#39;default&#39;</span><span class="p">)</span><span class="si">}</span><span class="s2">)&quot;</span><span class="p">)</span> <span class="c1"># Connect GRE to host</span> <span class="n">net</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">gre_id</span><span class="p">,</span> <span class="n">host_id</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">color_scheme</span><span class="p">[</span><span class="s1">&#39;gre_tunnel&#39;</span><span class="p">],</span> <span class="n">width</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span> <span class="k">return</span> <span class="n">net</span> <span class="k">def</span><span class="w"> </span><span class="nf">generate_host_tooltip</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">host_data</span><span class="p">):</span>
<span class="w"> </span><span class="sd">&quot;&quot;&quot;Generate informative tooltip for host nodes&quot;&quot;&quot;</span> <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;&quot;&quot;</span>
<span class="s2"> &lt;b&gt;Host Information&lt;/b&gt;&lt;br&gt;</span>
<span class="s2"> Containers: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">host_data</span><span class="p">[</span><span class="s1">&#39;containers&#39;</span><span class="p">])</span><span class="si">}</span><span class="s2">&lt;br&gt;</span>
<span class="s2"> Bridge Networks: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">host_data</span><span class="p">[</span><span class="s1">&#39;bridges&#39;</span><span class="p">])</span><span class="si">}</span><span class="s2">&lt;br&gt;</span>
<span class="s2"> GRE Tunnels: </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">host_data</span><span class="p">[</span><span class="s1">&#39;gre_tunnels&#39;</span><span class="p">])</span><span class="si">}</span><span class="s2">&lt;br&gt;</span>
<span class="s2"> Total IPs: </span><span class="si">{</span><span class="nb">sum</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">c</span><span class="p">[</span><span class="s1">&#39;ips&#39;</span><span class="p">])</span><span class="w"> </span><span class="k">for</span><span class="w"> </span><span class="n">c</span><span class="w"> </span><span class="ow">in</span><span class="w"> </span><span class="n">host_data</span><span class="p">[</span><span class="s1">&#39;containers&#39;</span><span class="p">])</span><span class="si">}</span>
<span class="s2"> &quot;&quot;&quot;</span>
</code></pre></div> <h2>Advanced Features: Beyond Basic Visualization</h2>
<h3>Real-Time Health Status Integration</h3>
<p>One breakthrough was integrating <strong>health check data</strong> directly into the visualizations:</p>
<div class="codehilite"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">integrate_health_status</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">network</span><span class="p">,</span> <span class="n">topology_data</span><span class="p">):</span>
<span class="w"> </span><span class="sd">&quot;&quot;&quot;Add real-time health status to network visualization&quot;&quot;&quot;</span> <span class="k">for</span> <span class="n">node_id</span> <span class="ow">in</span> <span class="n">network</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span> <span class="c1"># Determine node type and check health</span> <span class="n">health_status</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_component_health</span><span class="p">(</span><span class="n">node_id</span><span class="p">)</span> <span class="c1"># Update node color based on health</span> <span class="k">if</span> <span class="n">health_status</span><span class="p">[</span><span class="s1">&#39;status&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;healthy&#39;</span><span class="p">:</span> <span class="n">border_color</span> <span class="o">=</span> <span class="s1">&#39;#27ae60&#39;</span> <span class="c1"># Green</span> <span class="k">elif</span> <span class="n">health_status</span><span class="p">[</span><span class="s1">&#39;status&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;warning&#39;</span><span class="p">:</span> <span class="n">border_color</span> <span class="o">=</span> <span class="s1">&#39;#f39c12&#39;</span> <span class="c1"># Orange</span> <span class="k">else</span><span class="p">:</span> <span class="n">border_color</span> <span class="o">=</span> <span class="s1">&#39;#e74c3c&#39;</span> <span class="c1"># Red</span> <span class="c1"># Update node properties</span> <span class="n">network</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">node_id</span><span class="p">,</span> <span class="n">borderWidth</span><span class="o">=</span><span class="mi">4</span><span class="p">,</span> <span class="n">borderColor</span><span class="o">=</span><span class="n">border_color</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">network</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node_id</span><span class="p">][</span><span class="s1">&#39;title&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&lt;br&gt;&lt;b&gt;Status:&lt;/b&gt; </span><span class="si">{</span><span class="n">health_status</span><span class="p">[</span><span class="s1">&#39;message&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="k">def</span><span class="w"> </span><span class="nf">check_component_health</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">component_id</span><span class="p">):</span>
<span class="w"> </span><span class="sd">&quot;&quot;&quot;Check health status of network component&quot;&quot;&quot;</span> <span class="k">if</span> <span class="s1">&#39;container&#39;</span> <span class="ow">in</span> <span class="n">component_id</span><span class="p">:</span> <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_container_health</span><span class="p">(</span><span class="n">component_id</span><span class="p">)</span> <span class="k">elif</span> <span class="s1">&#39;gre&#39;</span> <span class="ow">in</span> <span class="n">component_id</span><span class="p">:</span> <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_gre_health</span><span class="p">(</span><span class="n">component_id</span><span class="p">)</span> <span class="k">elif</span> <span class="s1">&#39;bridge&#39;</span> <span class="ow">in</span> <span class="n">component_id</span><span class="p">:</span> <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">check_bridge_health</span><span class="p">(</span><span class="n">component_id</span><span class="p">)</span> <span class="k">else</span><span class="p">:</span> <span class="k">return</span> <span class="p">{</span><span class="s1">&#39;status&#39;</span><span class="p">:</span> <span class="s1">&#39;unknown&#39;</span><span class="p">,</span> <span class="s1">&#39;message&#39;</span><span class="p">:</span> <span class="s1">&#39;Health check not implemented&#39;</span><span class="p">}</span>
</code></pre></div> <h3>Dynamic Filtering and Search</h3>
<p>I added advanced filtering capabilities to handle large topologies:</p>
<div class="codehilite"><pre><span></span><code><span class="c1">// Client-side filtering for large network visualizations</span>
<span class="kd">function</span><span class="w"> </span><span class="nx">addNetworkFilters</span><span class="p">(</span><span class="nx">network</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">filterContainer</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;div&#39;</span><span class="p">);</span>
<span class="w"> </span><span class="nx">filterContainer</span><span class="p">.</span><span class="nx">innerHTML</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="sb">`</span>
<span class="sb"> &lt;div class=&quot;filter-controls&quot;&gt;</span>
<span class="sb"> &lt;input type=&quot;text&quot; id=&quot;nodeSearch&quot; placeholder=&quot;Search nodes...&quot;&gt;</span>
<span class="sb"> &lt;select id=&quot;nodeTypeFilter&quot;&gt;</span>
<span class="sb"> &lt;option value=&quot;&quot;&gt;All Types&lt;/option&gt;</span>
<span class="sb"> &lt;option value=&quot;host&quot;&gt;Hosts&lt;/option&gt;</span>
<span class="sb"> &lt;option value=&quot;container&quot;&gt;Containers&lt;/option&gt;</span>
<span class="sb"> &lt;option value=&quot;bridge&quot;&gt;Bridges&lt;/option&gt;</span>
<span class="sb"> &lt;option value=&quot;gre&quot;&gt;GRE Tunnels&lt;/option&gt;</span>
<span class="sb"> &lt;/select&gt;</span>
<span class="sb"> &lt;select id=&quot;healthFilter&quot;&gt;</span>
<span class="sb"> &lt;option value=&quot;&quot;&gt;All Health States&lt;/option&gt;</span>
<span class="sb"> &lt;option value=&quot;healthy&quot;&gt;Healthy&lt;/option&gt;</span>
<span class="sb"> &lt;option value=&quot;warning&quot;&gt;Warning&lt;/option&gt;</span>
<span class="sb"> &lt;option value=&quot;error&quot;&gt;Error&lt;/option&gt;</span>
<span class="sb"> &lt;/select&gt;</span>
<span class="sb"> &lt;/div&gt;</span>
<span class="sb"> `</span><span class="p">;</span> <span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">filterContainer</span><span class="p">,</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;networkViz&#39;</span><span class="p">));</span> <span class="w"> </span><span class="c1">// Implement filtering logic</span>
<span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="s1">&#39;nodeSearch&#39;</span><span class="p">).</span><span class="nx">addEventListener</span><span class="p">(</span><span class="s1">&#39;input&#39;</span><span class="p">,</span><span class="w"> </span><span class="kd">function</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">searchTerm</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">e</span><span class="p">.</span><span class="nx">target</span><span class="p">.</span><span class="nx">value</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">();</span>
<span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">allNodes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">network</span><span class="p">.</span><span class="nx">body</span><span class="p">.</span><span class="nx">data</span><span class="p">.</span><span class="nx">nodes</span><span class="p">.</span><span class="nx">get</span><span class="p">();</span> <span class="w"> </span><span class="kd">const</span><span class="w"> </span><span class="nx">filteredNodes</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nx">allNodes</span><span class="p">.</span><span class="nx">filter</span><span class="p">(</span><span class="nx">node</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span>
<span class="w"> </span><span class="nx">node</span><span class="p">.</span><span class="nx">label</span><span class="p">.</span><span class="nx">toLowerCase</span><span class="p">().</span><span class="nx">includes</span><span class="p">(</span><span class="nx">searchTerm</span><span class="p">)</span>
<span class="w"> </span><span class="p">);</span> <span class="w"> </span><span class="nx">network</span><span class="p">.</span><span class="nx">selectNodes</span><span class="p">(</span><span class="nx">filteredNodes</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">n</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">n</span><span class="p">.</span><span class="nx">id</span><span class="p">));</span>
<span class="w"> </span><span class="nx">network</span><span class="p">.</span><span class="nx">fit</span><span class="p">({</span><span class="nx">nodes</span><span class="o">:</span><span class="w"> </span><span class="nx">filteredNodes</span><span class="p">.</span><span class="nx">map</span><span class="p">(</span><span class="nx">n</span><span class="w"> </span><span class="p">=&gt;</span><span class="w"> </span><span class="nx">n</span><span class="p">.</span><span class="nx">id</span><span class="p">)});</span>
<span class="w"> </span><span class="p">});</span>
<span class="p">}</span>
</code></pre></div> <h2>The Results: From Hours to Minutes</h2>
<p>The impact of these visualization tools was immediate and dramatic:</p>
<h3>Troubleshooting Time Reduction</h3>
<ul>
<li><strong>Before</strong>: 2-3 hours to understand network topology during incidents</li>
<li><strong>After</strong>: 10-15 minutes to identify affected components and connections</li>
<li><strong>Improvement</strong>: <strong>85% reduction</strong> in time to resolution</li>
</ul>
<h3>Knowledge Transfer Acceleration</h3>
<ul>
<li><strong>Before</strong>: New team members took 2-3 weeks to understand infrastructure</li>
<li><strong>After</strong>: Visual topology maps reduced onboarding time to 3-4 days</li>
<li><strong>Improvement</strong>: <strong>70% faster</strong> team member onboarding</li>
</ul>
<h3>Capacity Planning Enhancement</h3>
<ul>
<li><strong>Before</strong>: Manual capacity assessments took days and were often inaccurate</li>
<li><strong>After</strong>: Real-time visualization shows resource utilization at a glance</li>
<li><strong>Improvement</strong>: <strong>Real-time</strong> capacity insights instead of periodic reports</li>
</ul>
<h3>Incident Response</h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># Example: Automated incident visualization</span>
<span class="k">def</span><span class="w"> </span><span class="nf">generate_incident_focused_view</span><span class="p">(</span><span class="n">affected_components</span><span class="p">):</span>
<span class="w"> </span><span class="sd">&quot;&quot;&quot;Create visualization focused on incident-affected infrastructure&quot;&quot;&quot;</span> <span class="c1"># Create network with emphasis on affected components</span> <span class="n">incident_net</span> <span class="o">=</span> <span class="n">Network</span><span class="p">(</span><span class="n">height</span><span class="o">=</span><span class="s2">&quot;800px&quot;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="s2">&quot;100%&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">component_id</span> <span class="ow">in</span> <span class="n">affected_components</span><span class="p">:</span> <span class="c1"># Highlight affected components in red</span> <span class="n">incident_net</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">component_id</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#e74c3c&#39;</span><span class="p">,</span> <span class="c1"># Red for affected</span> <span class="n">borderWidth</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">60</span><span class="p">)</span> <span class="c1"># Larger size for visibility</span> <span class="c1"># Add connected components in warning color</span> <span class="n">connected_components</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_connected_components</span><span class="p">(</span><span class="n">component_id</span><span class="p">)</span> <span class="k">for</span> <span class="n">connected_id</span> <span class="ow">in</span> <span class="n">connected_components</span><span class="p">:</span> <span class="n">incident_net</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">connected_id</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#f39c12&#39;</span><span class="p">,</span> <span class="c1"># Orange for potentially affected</span> <span class="n">borderWidth</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span> <span class="n">incident_net</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">component_id</span><span class="p">,</span> <span class="n">connected_id</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#e74c3c&#39;</span><span class="p">,</span> <span class="n">width</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span> <span class="k">return</span> <span class="n">incident_net</span>
</code></pre></div> <h2>Technical Deep Dive: The Architecture</h2>
<h3>Data Collection Layer</h3>
<p>The visualization system uses a multi-layered approach to gather network data:</p>
<div class="codehilite"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">NetworkDataCollector</span><span class="p">:</span>
<span class="w"> </span><span class="sd">&quot;&quot;&quot;Centralized data collection for network visualization&quot;&quot;&quot;</span> <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">collectors</span> <span class="o">=</span> <span class="p">[</span> <span class="n">DockerNetworkCollector</span><span class="p">(),</span> <span class="n">SystemInterfaceCollector</span><span class="p">(),</span> <span class="n">projectInventoryCollector</span><span class="p">(),</span> <span class="n">KubernetesCollector</span><span class="p">(),</span> <span class="c1"># For future k8s integration</span> <span class="p">]</span> <span class="k">def</span><span class="w"> </span><span class="nf">collect_comprehensive_topology</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">target_hosts</span><span class="p">):</span>
<span class="w"> </span><span class="sd">&quot;&quot;&quot;Collect network data from multiple sources&quot;&quot;&quot;</span> <span class="n">topology</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;hosts&#39;</span><span class="p">:</span> <span class="p">{},</span> <span class="s1">&#39;global_connections&#39;</span><span class="p">:</span> <span class="p">[],</span> <span class="s1">&#39;metadata&#39;</span><span class="p">:</span> <span class="p">{</span> <span class="s1">&#39;collection_time&#39;</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">utcnow</span><span class="p">()</span><span class="o">.</span><span class="n">isoformat</span><span class="p">(),</span> <span class="s1">&#39;collector_version&#39;</span><span class="p">:</span> <span class="s1">&#39;2.1.0&#39;</span> <span class="p">}</span> <span class="p">}</span> <span class="k">for</span> <span class="n">hostname</span> <span class="ow">in</span> <span class="n">target_hosts</span><span class="p">:</span> <span class="n">host_data</span> <span class="o">=</span> <span class="p">{}</span> <span class="c1"># Collect from each data source</span> <span class="k">for</span> <span class="n">collector</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">collectors</span><span class="p">:</span> <span class="k">try</span><span class="p">:</span> <span class="n">collector_data</span> <span class="o">=</span> <span class="n">collector</span><span class="o">.</span><span class="n">collect_host_data</span><span class="p">(</span><span class="n">hostname</span><span class="p">)</span> <span class="n">host_data</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">collector_data</span><span class="p">)</span> <span class="k">except</span> <span class="ne">Exception</span> <span class="k">as</span> <span class="n">e</span><span class="p">:</span> <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Warning: </span><span class="si">{</span><span class="n">collector</span><span class="o">.</span><span class="vm">__class__</span><span class="o">.</span><span class="vm">__name__</span><span class="si">}</span><span class="s2"> failed for </span><span class="si">{</span><span class="n">hostname</span><span class="si">}</span><span class="s2">: </span><span class="si">{</span><span class="n">e</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span> <span class="n">topology</span><span class="p">[</span><span class="s1">&#39;hosts&#39;</span><span class="p">][</span><span class="n">hostname</span><span class="p">]</span> <span class="o">=</span> <span class="n">host_data</span> <span class="c1"># Analyze inter-host connections</span> <span class="n">topology</span><span class="p">[</span><span class="s1">&#39;global_connections&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">analyze_inter_host_connections</span><span class="p">(</span><span class="n">topology</span><span class="p">[</span><span class="s1">&#39;hosts&#39;</span><span class="p">])</span> <span class="k">return</span> <span class="n">topology</span>
</code></pre></div> <h3>Visualization Engine</h3>
<p>The core visualization engine handles complex layout algorithms:</p>
<div class="codehilite"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">AdvancedNetworkRenderer</span><span class="p">:</span>
<span class="w"> </span><span class="sd">&quot;&quot;&quot;Advanced network rendering with custom algorithms&quot;&quot;&quot;</span> <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">layout_algorithms</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;hierarchical&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">hierarchical_layout</span><span class="p">,</span> <span class="s1">&#39;force_directed&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">force_directed_layout</span><span class="p">,</span> <span class="s1">&#39;geographic&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">geographic_layout</span><span class="p">,</span> <span class="s1">&#39;custom&#39;</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">custom_layout</span> <span class="p">}</span> <span class="k">def</span><span class="w"> </span><span class="nf">custom_layout</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">topology_data</span><span class="p">):</span>
<span class="w"> </span><span class="sd">&quot;&quot;&quot;Custom layout algorithm optimized for telecommunications networks&quot;&quot;&quot;</span> <span class="n">positions</span> <span class="o">=</span> <span class="p">{}</span> <span class="c1"># Level 0: Regions (top level)</span> <span class="n">regions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extract_regions</span><span class="p">(</span><span class="n">topology_data</span><span class="p">)</span> <span class="n">region_positions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">distribute_horizontally</span><span class="p">(</span><span class="n">regions</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span> <span class="k">for</span> <span class="n">region</span><span class="p">,</span> <span class="n">region_x</span> <span class="ow">in</span> <span class="n">region_positions</span><span class="o">.</span><span class="n">items</span><span class="p">():</span> <span class="c1"># Level 1: Hosts within region</span> <span class="n">hosts</span> <span class="o">=</span> <span class="n">topology_data</span><span class="p">[</span><span class="s1">&#39;hosts_by_region&#39;</span><span class="p">][</span><span class="n">region</span><span class="p">]</span> <span class="n">host_positions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">distribute_vertically</span><span class="p">(</span><span class="n">hosts</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">region_x</span><span class="p">,</span> <span class="n">start_y</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span> <span class="k">for</span> <span class="n">host</span><span class="p">,</span> <span class="n">host_y</span> <span class="ow">in</span> <span class="n">host_positions</span><span class="o">.</span><span class="n">items</span><span class="p">():</span> <span class="n">positions</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;host_</span><span class="si">{</span><span class="n">host</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">region_x</span><span class="p">,</span> <span class="n">host_y</span><span class="p">)</span> <span class="c1"># Level 2: Networks within host</span> <span class="n">networks</span> <span class="o">=</span> <span class="n">topology_data</span><span class="p">[</span><span class="s1">&#39;networks_by_host&#39;</span><span class="p">][</span><span class="n">host</span><span class="p">]</span> <span class="n">net_positions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">distribute_horizontally</span><span class="p">(</span><span class="n">networks</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="n">host_y</span> <span class="o">+</span> <span class="mi">100</span><span class="p">)</span> <span class="k">for</span> <span class="n">network</span><span class="p">,</span> <span class="n">net_x</span> <span class="ow">in</span> <span class="n">net_positions</span><span class="o">.</span><span class="n">items</span><span class="p">():</span> <span class="n">positions</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;network_</span><span class="si">{</span><span class="n">network</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">net_x</span><span class="p">,</span> <span class="n">host_y</span> <span class="o">+</span> <span class="mi">100</span><span class="p">)</span> <span class="c1"># Level 3: Containers within network</span> <span class="n">containers</span> <span class="o">=</span> <span class="n">topology_data</span><span class="p">[</span><span class="s1">&#39;containers_by_network&#39;</span><span class="p">][</span><span class="n">network</span><span class="p">]</span> <span class="n">container_positions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">distribute_vertically</span><span class="p">(</span><span class="n">containers</span><span class="p">,</span> <span class="n">x</span><span class="o">=</span><span class="n">net_x</span><span class="p">,</span> <span class="n">start_y</span><span class="o">=</span><span class="n">host_y</span> <span class="o">+</span> <span class="mi">200</span><span class="p">)</span> <span class="k">for</span> <span class="n">container</span><span class="p">,</span> <span class="n">container_y</span> <span class="ow">in</span> <span class="n">container_positions</span><span class="o">.</span><span class="n">items</span><span class="p">():</span> <span class="n">positions</span><span class="p">[</span><span class="sa">f</span><span class="s2">&quot;container_</span><span class="si">{</span><span class="n">container</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">net_x</span><span class="p">,</span> <span class="n">container_y</span><span class="p">)</span> <span class="k">return</span> <span class="n">positions</span>
</code></pre></div> <h2>Advanced Use Cases: Beyond Basic Topology</h2>
<h3>Security Visualization</h3>
<p>I extended the system to show <strong>security boundaries</strong> and <strong>attack surfaces</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">add_security_visualization</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">network</span><span class="p">,</span> <span class="n">topology_data</span><span class="p">):</span>
<span class="w"> </span><span class="sd">&quot;&quot;&quot;Add security-focused visualization elements&quot;&quot;&quot;</span> <span class="c1"># Identify security zones</span> <span class="n">security_zones</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">identify_security_zones</span><span class="p">(</span><span class="n">topology_data</span><span class="p">)</span> <span class="k">for</span> <span class="n">zone_name</span><span class="p">,</span> <span class="n">zone_components</span> <span class="ow">in</span> <span class="n">security_zones</span><span class="o">.</span><span class="n">items</span><span class="p">():</span> <span class="c1"># Create security zone subgraph</span> <span class="n">zone_color</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">get_security_zone_color</span><span class="p">(</span><span class="n">zone_name</span><span class="p">)</span> <span class="c1"># Add zone boundary visualization</span> <span class="k">for</span> <span class="n">component</span> <span class="ow">in</span> <span class="n">zone_components</span><span class="p">:</span> <span class="n">network</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">component</span><span class="p">,</span> <span class="n">borderColor</span><span class="o">=</span><span class="n">zone_color</span><span class="p">,</span> <span class="n">borderWidth</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span> <span class="c1"># Highlight cross-zone connections as potential security risks</span> <span class="n">cross_zone_edges</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">find_cross_zone_connections</span><span class="p">(</span><span class="n">zone_components</span><span class="p">,</span> <span class="n">topology_data</span><span class="p">)</span> <span class="k">for</span> <span class="n">edge</span> <span class="ow">in</span> <span class="n">cross_zone_edges</span><span class="p">:</span> <span class="n">network</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span><span class="n">edge</span><span class="p">[</span><span class="s1">&#39;source&#39;</span><span class="p">],</span> <span class="n">edge</span><span class="p">[</span><span class="s1">&#39;target&#39;</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#e74c3c&#39;</span><span class="p">,</span> <span class="c1"># Red for security attention</span> <span class="n">width</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">dashes</span><span class="o">=</span><span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">],</span> <span class="c1"># Dashed line</span> <span class="n">title</span><span class="o">=</span><span class="s2">&quot;Cross-zone connection - Review security implications&quot;</span><span class="p">)</span>
</code></pre></div> <h3>Performance Analytics Integration</h3>
<p>The visualization system integrates with monitoring data to show <strong>performance metrics</strong>:</p>
<div class="codehilite"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">integrate_performance_metrics</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">network</span><span class="p">,</span> <span class="n">metrics_data</span><span class="p">):</span>
<span class="w"> </span><span class="sd">&quot;&quot;&quot;Integrate real-time performance metrics into visualization&quot;&quot;&quot;</span> <span class="k">for</span> <span class="n">node_id</span> <span class="ow">in</span> <span class="n">network</span><span class="o">.</span><span class="n">nodes</span><span class="p">:</span> <span class="n">node_metrics</span> <span class="o">=</span> <span class="n">metrics_data</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">node_id</span><span class="p">,</span> <span class="p">{})</span> <span class="c1"># Update node size based on CPU usage</span> <span class="n">cpu_usage</span> <span class="o">=</span> <span class="n">node_metrics</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;cpu_percent&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="n">base_size</span> <span class="o">=</span> <span class="n">network</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node_id</span><span class="p">][</span><span class="s1">&#39;size&#39;</span><span class="p">]</span> <span class="n">size_multiplier</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="p">(</span><span class="n">cpu_usage</span> <span class="o">/</span> <span class="mi">100</span><span class="p">)</span> <span class="c1"># Scale with CPU usage</span> <span class="c1"># Update node color based on memory usage </span> <span class="n">memory_usage</span> <span class="o">=</span> <span class="n">node_metrics</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;memory_percent&#39;</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span> <span class="k">if</span> <span class="n">memory_usage</span> <span class="o">&gt;</span> <span class="mi">90</span><span class="p">:</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;#e74c3c&#39;</span> <span class="c1"># Red for high memory</span> <span class="k">elif</span> <span class="n">memory_usage</span> <span class="o">&gt;</span> <span class="mi">70</span><span class="p">:</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;#f39c12&#39;</span> <span class="c1"># Orange for medium memory</span> <span class="k">else</span><span class="p">:</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;#27ae60&#39;</span> <span class="c1"># Green for normal memory</span> <span class="c1"># Update network visualization</span> <span class="n">network</span><span class="o">.</span><span class="n">add_node</span><span class="p">(</span><span class="n">node_id</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">base_size</span> <span class="o">*</span> <span class="n">size_multiplier</span><span class="p">),</span> <span class="n">color</span><span class="o">=</span><span class="n">color</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">network</span><span class="o">.</span><span class="n">nodes</span><span class="p">[</span><span class="n">node_id</span><span class="p">][</span><span class="s1">&#39;title&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">&lt;br&gt;&lt;b&gt;CPU:&lt;/b&gt; </span><span class="si">{</span><span class="n">cpu_usage</span><span class="si">}</span><span class="s2">%&lt;br&gt;&lt;b&gt;Memory:&lt;/b&gt; </span><span class="si">{</span><span class="n">memory_usage</span><span class="si">}</span><span class="s2">%&quot;</span><span class="p">)</span>
</code></pre></div> <h2>Lessons Learned: The Hard-Won Insights</h2>
<h3>1. <strong>Start Simple, Evolve Incrementally</strong></h3>
<p>My first attempt tried to show everything at once—it was overwhelming. The breakthrough came when I focused on <strong>one use case at a time</strong>.</p>
<h3>2. <strong>Real-Time Data Beats Static Documentation</strong></h3>
<p>Static diagrams become outdated within days in dynamic environments. <strong>Live data discovery</strong> is essential for accuracy.</p>
<h3>3. <strong>Interactivity is Non-Negotiable</strong></h3>
<p>Static visualizations, no matter how beautiful, can't handle the complexity of modern infrastructure. <strong>Interactive exploration</strong> is crucial.</p>
<h3>4. <strong>Color and Size Matter More Than You Think</strong></h3>
<p>Thoughtful use of <strong>visual encoding</strong> (color for health, size for importance) dramatically improves comprehension speed.</p>
<h3>5. <strong>Context-Aware Views Are Essential</strong></h3>
<p>Different users need different views of the same data. <strong>Incident response</strong>, <strong>capacity planning</strong>, and <strong>security analysis</strong> all require different visual emphasis.</p>
<h2>The Technology Stack Deep Dive</h2>
<h3>Core Technologies</h3>
<ul>
<li><strong>PyVis</strong>: Interactive network visualization with physics simulation</li>
<li><strong>Mermaid.js</strong>: Static diagram generation for documentation</li>
<li><strong>Docker SDK</strong>: Real-time container discovery and monitoring </li>
<li><strong>Python Subprocess</strong>: System-level network interface discovery</li>
<li><strong>Jinja2</strong>: Template-based configuration generation</li>
<li><strong>HTML/CSS/JavaScript</strong>: Custom UI components and interactions</li>
</ul>
<h3>Advanced Libraries</h3>
<div class="codehilite"><pre><span></span><code><span class="c1"># Key dependencies for the visualization system</span>
<span class="n">dependencies</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;pyvis&#39;</span><span class="p">:</span> <span class="s1">&#39;&gt;=0.3.0&#39;</span><span class="p">,</span> <span class="c1"># Interactive network graphs</span> <span class="s1">&#39;docker&#39;</span><span class="p">:</span> <span class="s1">&#39;&gt;=6.0.0&#39;</span><span class="p">,</span> <span class="c1"># Container management</span> <span class="s1">&#39;jinja2&#39;</span><span class="p">:</span> <span class="s1">&#39;&gt;=3.0.0&#39;</span><span class="p">,</span> <span class="c1"># Template rendering</span> <span class="s1">&#39;pyyaml&#39;</span><span class="p">:</span> <span class="s1">&#39;&gt;=6.0&#39;</span><span class="p">,</span> <span class="c1"># Configuration parsing</span> <span class="s1">&#39;requests&#39;</span><span class="p">:</span> <span class="s1">&#39;&gt;=2.28.0&#39;</span><span class="p">,</span> <span class="c1"># API interactions</span> <span class="s1">&#39;psutil&#39;</span><span class="p">:</span> <span class="s1">&#39;&gt;=5.9.0&#39;</span><span class="p">,</span> <span class="c1"># System metrics</span> <span class="s1">&#39;networkx&#39;</span><span class="p">:</span> <span class="s1">&#39;&gt;=3.0&#39;</span><span class="p">,</span> <span class="c1"># Graph algorithms</span> <span class="s1">&#39;matplotlib&#39;</span><span class="p">:</span> <span class="s1">&#39;&gt;=3.5.0&#39;</span><span class="p">,</span> <span class="c1"># Additional plotting capabilities</span>
<span class="p">}</span>
</code></pre></div> <h3>Performance Optimizations</h3>
<div class="codehilite"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">OptimizedNetworkRenderer</span><span class="p">:</span>
<span class="w"> </span><span class="sd">&quot;&quot;&quot;Performance-optimized network rendering for large topologies&quot;&quot;&quot;</span> <span class="k">def</span><span class="w"> </span><span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">max_nodes</span><span class="o">=</span><span class="mi">500</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_nodes</span> <span class="o">=</span> <span class="n">max_nodes</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache</span> <span class="o">=</span> <span class="p">{}</span> <span class="bp">self</span><span class="o">.</span><span class="n">update_interval</span> <span class="o">=</span> <span class="mi">30</span> <span class="c1"># seconds</span> <span class="k">def</span><span class="w"> </span><span class="nf">render_large_topology</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">topology_data</span><span class="p">):</span>
<span class="w"> </span><span class="sd">&quot;&quot;&quot;Handle large topologies with performance optimizations&quot;&quot;&quot;</span> <span class="c1"># Check cache first</span> <span class="n">cache_key</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_cache_key</span><span class="p">(</span><span class="n">topology_data</span><span class="p">)</span> <span class="k">if</span> <span class="n">cache_key</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="p">:</span> <span class="n">cached_result</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="p">[</span><span class="n">cache_key</span><span class="p">]</span> <span class="k">if</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">cached_result</span><span class="p">[</span><span class="s1">&#39;timestamp&#39;</span><span class="p">]</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">update_interval</span><span class="p">:</span> <span class="k">return</span> <span class="n">cached_result</span><span class="p">[</span><span class="s1">&#39;visualization&#39;</span><span class="p">]</span> <span class="c1"># Implement level-of-detail rendering</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">topology_data</span><span class="p">[</span><span class="s1">&#39;nodes&#39;</span><span class="p">])</span> <span class="o">&gt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">max_nodes</span><span class="p">:</span> <span class="n">topology_data</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">apply_level_of_detail</span><span class="p">(</span><span class="n">topology_data</span><span class="p">)</span> <span class="c1"># Use incremental rendering for better performance</span> <span class="n">visualization</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">incremental_render</span><span class="p">(</span><span class="n">topology_data</span><span class="p">)</span> <span class="c1"># Cache the result</span> <span class="bp">self</span><span class="o">.</span><span class="n">cache</span><span class="p">[</span><span class="n">cache_key</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span> <span class="s1">&#39;visualization&#39;</span><span class="p">:</span> <span class="n">visualization</span><span class="p">,</span> <span class="s1">&#39;timestamp&#39;</span><span class="p">:</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="p">}</span> <span class="k">return</span> <span class="n">visualization</span>
</code></pre></div> <h2>Future Innovations: Where We're Heading</h2>
<h3>AI-Powered Network Analysis</h3>
<div class="codehilite"><pre><span></span><code><span class="k">class</span><span class="w"> </span><span class="nc">IntelligentNetworkAnalyzer</span><span class="p">:</span>
<span class="w"> </span><span class="sd">&quot;&quot;&quot;AI-powered network topology analysis and recommendations&quot;&quot;&quot;</span> <span class="k">def</span><span class="w"> </span><span class="nf">analyze_topology_patterns</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">historical_data</span><span class="p">):</span>
<span class="w"> </span><span class="sd">&quot;&quot;&quot;Use ML to identify patterns and anomalies in network topology&quot;&quot;&quot;</span> <span class="c1"># Feature extraction from topology data</span> <span class="n">features</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extract_topology_features</span><span class="p">(</span><span class="n">historical_data</span><span class="p">)</span> <span class="c1"># Anomaly detection using isolation forest</span> <span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.ensemble</span><span class="w"> </span><span class="kn">import</span> <span class="n">IsolationForest</span> <span class="n">anomaly_detector</span> <span class="o">=</span> <span class="n">IsolationForest</span><span class="p">(</span><span class="n">contamination</span><span class="o">=</span><span class="mf">0.1</span><span class="p">)</span> <span class="n">anomalies</span> <span class="o">=</span> <span class="n">anomaly_detector</span><span class="o">.</span><span class="n">fit_predict</span><span class="p">(</span><span class="n">features</span><span class="p">)</span> <span class="c1"># Generate recommendations</span> <span class="n">recommendations</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">generate_recommendations</span><span class="p">(</span><span class="n">anomalies</span><span class="p">,</span> <span class="n">features</span><span class="p">)</span> <span class="k">return</span> <span class="n">recommendations</span> <span class="k">def</span><span class="w"> </span><span class="nf">predict_scaling_needs</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">current_topology</span><span class="p">,</span> <span class="n">growth_metrics</span><span class="p">):</span>
<span class="w"> </span><span class="sd">&quot;&quot;&quot;Predict where infrastructure scaling will be needed&quot;&quot;&quot;</span> <span class="c1"># Analyze current resource utilization patterns</span> <span class="n">utilization_trends</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">analyze_utilization_trends</span><span class="p">(</span><span class="n">growth_metrics</span><span class="p">)</span> <span class="c1"># Predict bottlenecks</span> <span class="n">bottleneck_predictions</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">predict_bottlenecks</span><span class="p">(</span><span class="n">current_topology</span><span class="p">,</span> <span class="n">utilization_trends</span><span class="p">)</span> <span class="k">return</span> <span class="n">bottleneck_predictions</span>
</code></pre></div> <h3>Integration with Observability Platforms</h3>
<p>Future versions will integrate directly with <strong>OpenTelemetry</strong>, <strong>Prometheus</strong>, and <strong>Grafana</strong> for comprehensive observability:</p>
<div class="codehilite"><pre><span></span><code><span class="k">def</span><span class="w"> </span><span class="nf">integrate_opentelemetry_tracing</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">network</span><span class="p">,</span> <span class="n">trace_data</span><span class="p">):</span>
<span class="w"> </span><span class="sd">&quot;&quot;&quot;Integrate distributed tracing data into network visualization&quot;&quot;&quot;</span> <span class="c1"># Analyze trace spans to understand service dependencies</span> <span class="n">service_dependencies</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">extract_dependencies_from_traces</span><span class="p">(</span><span class="n">trace_data</span><span class="p">)</span> <span class="c1"># Add trace-based connections to network visualization</span> <span class="k">for</span> <span class="n">dependency</span> <span class="ow">in</span> <span class="n">service_dependencies</span><span class="p">:</span> <span class="c1"># Add edge with trace metrics</span> <span class="n">network</span><span class="o">.</span><span class="n">add_edge</span><span class="p">(</span> <span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;source_service&#39;</span><span class="p">],</span> <span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;target_service&#39;</span><span class="p">],</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;#9b59b6&#39;</span><span class="p">,</span> <span class="c1"># Purple for trace-based connections</span> <span class="n">width</span><span class="o">=</span><span class="bp">self</span><span class="o">.</span><span class="n">calculate_edge_width</span><span class="p">(</span><span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;call_volume&#39;</span><span class="p">]),</span> <span class="n">title</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Avg Latency: </span><span class="si">{</span><span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;avg_latency&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">ms&lt;br&gt;Call Volume: </span><span class="si">{</span><span class="n">dependency</span><span class="p">[</span><span class="s1">&#39;call_volume&#39;</span><span class="p">]</span><span class="si">}</span><span class="s2">/min&quot;</span> <span class="p">)</span>
</code></pre></div> <h2>Conclusion: The Power of Visual Understanding</h2>
<p>Building these network visualization tools taught me that <strong>complexity doesn't have to mean confusion</strong>. With the right visual approach, even the most complex telecommunications infrastructure can become understandable, manageable, and optimizable.</p>
<p>The key insights from this journey:</p>
<ol>
<li><strong>Visual thinking scales better than textual documentation</strong> for complex systems</li>
<li><strong>Real-time discovery beats manual documentation</strong> every time </li>
<li><strong>Interactive exploration</strong> enables deeper understanding than static diagrams</li>
<li><strong>Context-aware views</strong> serve different stakeholders more effectively</li>
<li><strong>Integration with operational data</strong> makes visualizations actionable, not just pretty</li>
</ol>
<h3>The Business Impact</h3>
<p>These visualization tools didn't just make our infrastructure prettier to look at—they <strong>fundamentally changed how we operate</strong>:</p>
<ul>
<li><strong>Incident Response</strong>: From 3-hour troubleshooting sessions to 15-minute problem identification</li>
<li><strong>Capacity Planning</strong>: From quarterly guesswork to real-time insights</li>
<li><strong>Team Onboarding</strong>: From weeks of confusion to days of productive learning </li>
<li><strong>Architecture Decisions</strong>: From tribal knowledge to data-driven insights</li>
</ul>
<h3>For Other Engineers</h3>
<p>If you're dealing with complex infrastructure that's hard to understand:</p>
<ol>
<li><strong>Start with discovery</strong>: Build tools that automatically map what you have</li>
<li><strong>Make it interactive</strong>: Static diagrams are better than nothing, but interaction is transformative</li>
<li><strong>Integrate operational data</strong>: Health, performance, and usage data should be visual</li>
<li><strong>Design for different use cases</strong>: Incident response needs different views than capacity planning</li>
<li><strong>Evolve incrementally</strong>: Start simple and add sophistication based on user feedback</li>
</ol>
<p>The telecommunications networks that power our connected world are incredibly complex, but they don't have to be incomprehensible. With thoughtful visualization, we can make any network as clear as a well-designed map.</p>
<hr />
<p><em>Interested in network visualization or have complex infrastructure visualization challenges? I'd love to hear about them! Connect with me on LinkedIn or check out the open-source visualization tools we've developed.</em></p></div> <footer><ul class="stats"><li><a href="../index.html">Back to posts</a></li></ul></footer> </article> </div> <section id="sidebar"> <section> <div class="mini-posts"> <header><h3>Recent</h3></header> <ul>
<li><a href="../posts/wireless-apn-dns--container-architecture-blog.html">Building a Hybrid DNS-Routing Container: Combining FRR and CoreDNS for Telecom Infrastructure</a> <span class=\"published\">Containers</span></li>
<li><a href="../posts/wireless-apn-dns--infrastructure-modernization-blog.html">Infrastructure Modernization: From Legacy DNS to Cloud-Native Solutions in Telecom</a> <span class=\"published\">Infra</span></li>
<li><a href="../posts/wireless-apn-dns--network-engineering-blog.html">Advanced Network Engineering: Integrating BGP Routing with DNS Services for Telecom Infrastructure</a> <span class=\"published\">Infra</span></li>
<li><a href="../posts/project--devops-automation-blog.html">From Manual Chaos to Automated Excellence: A DevOps Transformation Journey</a> <span class=\"published\">DevOps</span></li>
<li><a href="../posts/project--infrastructure-automation-blog.html">Building Production-Scale Telecommunications Infrastructure: A Deep Dive into EPC Automation</a> <span class=\"published\">Infra</span></li> </ul> </div> </section> <section> <header><h3>About</h3></header> <p>Notes on telecom, infra, and automation.</p> </section> </section> <section id="footer"><p class="copyright">&copy; 2025</p></section> </div> <script src="../assets/js/jquery.min.js"></script> <script src="../assets/js/browser.min.js"></script> <script src="../assets/js/breakpoints.min.js"></script> <script src="../assets/js/util.js"></script> <script src="../assets/js/main.js"></script> </body>
</html>